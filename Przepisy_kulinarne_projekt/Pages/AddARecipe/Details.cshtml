@page
@model Przepisy_kulinarne_projekt.Pages.AddARecipe.DetailsModel

@{
    ViewData["Title"] = "Details";
}
@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager
<div class="row text-center justify-content-center mt-5">
    <h1>@Model.Recipe.RecipeName  </h1>
    @if (SignInManager.IsSignedIn(User) && Model.AbleToEdit == true)
    {
<div class="row">
    <a class="nav-item nav-link mt-1 col-7" asp-area="" asp-page="/AddARecipe/Edit" asp-route-id="@Model.Recipe.Id" title="Edytuj przepis">
        <img src="~/images/icons/gear.svg" style="float:right;width:30px;height:30px;" />
    </a>
    <a class="nav-item nav-link mt-1 col-1" asp-area="" asp-page="/AddARecipe/Delete" asp-route-id="@Model.Recipe.Id" title="Usuń przepis">
        <img src="~/images/icons/trash-alt-regular.svg" style="float:right;width:30px;height:30px;"/>
    </a>
</div>
        
    }
</div>


<div class="text-center mt-1">
    <h5>Data dodania: @Model.Recipe.Date</h5>
    <h4 class="mt-4">Składniki: @Model.Recipe.Ingredients</h4>
    <h4 class="mt-4">Sposób wykonania: @Model.Recipe.Steps</h4>
    <h4 class="mt-4">Ocena: @Model.Recipe.Rating</h4>
    <h4 class="mt-4">Galeria zdjęć:</h4>
</div>

<div class="container">
    @foreach (var item in Model.Photos)
    {
        @if (item.Link != null)
        {
            <img src="@item.Link" style="width:200px;height:200px;" />
        }
        else if (item.Path != null)
        {
            <img src="~/images/@item.Path" style="width:200px;height:200px;" />
        }
        else
        { }
    }
</div>
<div class="row text-center justify-content-center">
    <h4 class="text-center mt-4">
        Kategorie:
        @if (SignInManager.IsSignedIn(User) && Model.AbleToEdit == true)
        {
            <a asp-area="" asp-page="/AddARecipeCategory/Create">Dodaj kategorie</a>
        }
    </h4>
</div>
<div class="row justify-content-center">
    @foreach(var item in Model.Categories)
            {
                <h5>@item.CategoryName&nbsp</h5>
            }
</div>


@if (SignInManager.IsSignedIn(User))
{
    <div class="row justify-content-center mt-4">
        <form method="post">
            <button name="fav" asp-action="Check">Dodaj do ulubionych</button>
        </form>

    </div>
}
